{
  "metadata": {
    "version": "1.2",
    "created": "2026-02-27",
    "corpus_size": 12,
    "total_questions": 20,
    "categories": {
      "A": "Direct retrieval (single-doc, explicit)",
      "B": "Multi-hop reasoning (2+ docs)",
      "C": "Disambiguation (name variants, renamed components)",
      "D": "Conflict resolution (contradictory records)",
      "E": "Failure mode (Neo4j down, empty graph)"
    }
  },
  "scoring_rules": {
    "certainty_requirements": {
      "certain": "Explicitly stated in single source with direct citation",
      "supported": "At least 2 supporting signals (2 sources OR 1 source + graph path)",
      "possible": "At least 1 signal and no contradictions",
      "conflicting": "Contradiction exists - must list both sources"
    },
    "citation_format": {
      "required": "[DOC-ID] format (e.g., [ADR-001], [INC-002])",
      "multiple": "Comma-separated (e.g., [ADR-001], [MEETING-2026-02-15])"
    },
    "latency_rules": {
      "warmup_discard": 1,
      "min_runs": 10,
      "p95_baseline_multiplier": 2,
      "absolute_cap_ms": 1500
    }
  },
  "questions": [
    {
      "id": "Q001",
      "category": "A",
      "question": "Who approved ADR-001?",
      "required_entities": ["Alice Chen"],
      "required_sources": ["ADR-001"],
      "forbidden_claims": ["George Freeney approved ADR-001"],
      "expected_certainty": "certain",
      "expected_answer": "Alice Chen approved ADR-001.",
      "citation_format": "[ADR-001]",
      "notes": "Direct single-doc retrieval"
    },
    {
      "id": "Q002",
      "category": "A",
      "question": "What is the internal port for Neo4j?",
      "required_entities": ["7687"],
      "required_sources": ["ADR-002"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "Neo4j uses port 7687 for graph relationships.",
      "citation_format": "[ADR-002]",
      "notes": "Direct lookup from ADR-002 configuration table"
    },
    {
      "id": "Q003",
      "category": "B",
      "question": "What dependency chain must work for Gateway to authenticate users?",
      "required_entities": ["Gateway", "Auth Service", "User Database"],
      "required_sources": ["DEPENDENCIES"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "Gateway depends on Auth Service, which depends on User Database. If User Database fails, Gateway cannot authenticate users.",
      "citation_format": "[DEPENDENCIES]",
      "notes": "2-hop dependency chain query - requires traversing Gateway -> Auth -> User Database"
    },
    {
      "id": "Q004",
      "category": "B",
      "question": "If Persistent Volume fails, what GraphRAG capability is affected?",
      "required_entities": ["Agent Zero", "Neo4j", "Persistent Volume", "entity storage"],
      "required_sources": ["DEPENDENCIES"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "If Persistent Volume fails, Neo4j cannot store/retrieve entities, so GraphRAG (Agent Zero entity relationship capability) is affected.",
      "citation_format": "[DEPENDENCIES]",
      "notes": "2-hop chain: Agent Zero -> Neo4j -> Persistent Volume"
    },
    {
      "id": "Q005",
      "category": "C",
      "question": "Who is GFJ?",
      "required_entities": ["George Freeney Jr.", "GFJ"],
      "required_sources": ["USER_PROFILES"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "GFJ is the internal shorthand for George Freeney Jr., the Lead Architect for the GraphRAG Initiative.",
      "citation_format": "[USER_PROFILES]",
      "notes": "Name variant resolution - GFJ maps to George Freeney Jr."
    },
    {
      "id": "Q006",
      "category": "C",
      "question": "What component was formerly called EdgeProxy?",
      "required_entities": ["Gateway", "EdgeProxy"],
      "required_sources": ["SYSTEMS_MAP", "ADR-001"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "Gateway was formerly called EdgeProxy. The name was changed on 2026-01-10 to clarify its role.",
      "citation_format": "[SYSTEMS_MAP], [ADR-001]",
      "notes": "Renamed component disambiguation"
    },
    {
      "id": "Q007",
      "category": "C",
      "question": "What incident involved the component formerly known as EdgeProxy?",
      "required_entities": ["Gateway", "EdgeProxy", "INC-001", "memory exhaustion"],
      "required_sources": ["INC-001", "SYSTEMS_MAP"],
      "forbidden_claims": [],
      "expected_certainty": "supported",
      "expected_answer": "INC-001 (Gateway outage) involved the component formerly known as EdgeProxy. It experienced memory exhaustion from unbounded connection pooling.",
      "citation_format": "[INC-001], [SYSTEMS_MAP]",
      "notes": "Requires connecting renamed component to incident - 2 sources needed for supported"
    },
    {
      "id": "Q008",
      "category": "D",
      "question": "When did George Freeney Jr. approve ADR-002?",
      "required_entities": ["George Freeney Jr.", "ADR-002", "2026-01-20", "2026-02-15"],
      "required_sources": ["ADR-002", "MEETING-2026-02-15", "MEETING-2026-02-20"],
      "forbidden_claims": ["ADR-002 was only approved on 2026-02-15"],
      "expected_certainty": "conflicting",
      "expected_answer": "There are conflicting records: ADR-002 shows George Freeney Jr. approved it on 2026-01-20, while MEETING-2026-02-15 suggests approval on 2026-02-15. MEETING-2026-02-20 clarifies that the original approval was 2026-01-20, with re-confirmation on 2026-02-15.",
      "citation_format": "[ADR-002], [MEETING-2026-02-15], [MEETING-2026-02-20]",
      "notes": "Conflict resolution - must acknowledge contradiction and cite both sources"
    },
    {
      "id": "Q009",
      "category": "B",
      "question": "What change was implemented to prevent INC-001 from recurring?",
      "required_entities": ["CHG-001", "connection pool limits", "INC-001"],
      "required_sources": ["INC-001", "CHG-001"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "CHG-001 implemented connection pool limits (max 100 connections, 30s timeout, 2GB memory limit) to prevent the memory exhaustion that caused INC-001.",
      "citation_format": "[INC-001], [CHG-001]",
      "notes": "Multi-hop: incident to resolution change"
    },
    {
      "id": "Q010",
      "category": "B",
      "question": "What is the full dependency chain from Agent Zero to Persistent Volume?",
      "required_entities": ["Agent Zero", "Neo4j", "Persistent Volume"],
      "required_sources": ["DEPENDENCIES"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "Agent Zero depends on Neo4j Database (for entity relationships), which depends on Persistent Volume (for data storage).",
      "citation_format": "[DEPENDENCIES]",
      "notes": "Explicit 2-hop chain documented"
    },
    {
      "id": "Q011",
      "category": "A",
      "question": "What caused the deployment failure in INC-002?",
      "required_entities": ["Neo4j schema migration", "existing constraints", "idempotent"],
      "required_sources": ["INC-002"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "The deployment failure was caused by Neo4j schema migration attempting to create constraints that already existed.",
      "citation_format": "[INC-002]",
      "notes": "Direct retrieval from incident document"
    },
    {
      "id": "Q012",
      "category": "B",
      "question": "What change was made after INC-002 to prevent similar failures?",
      "required_entities": ["CHG-002", "idempotent migrations", "INC-002"],
      "required_sources": ["INC-002", "CHG-002"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "CHG-002 updated Neo4j migration scripts to be idempotent, checking for existing constraints before creation.",
      "citation_format": "[INC-002], [CHG-002]",
      "notes": "Multi-hop: incident to resolution"
    },
    {
      "id": "Q013",
      "category": "B",
      "question": "During the Gateway outage, which services were affected and how?",
      "required_entities": ["Gateway", "Auth Service", "Routing Service", "1247 failed requests"],
      "required_sources": ["INC-001", "DEPENDENCIES"],
      "forbidden_claims": [],
      "expected_certainty": "supported",
      "expected_answer": "During the Gateway outage (INC-001), Auth Service connectivity was broken (Gateway could not reach Auth Service), and Routing Service was degraded. 1247 requests failed.",
      "citation_format": "[INC-001], [DEPENDENCIES]",
      "notes": "Combines incident details with dependency map"
    },
    {
      "id": "Q014",
      "category": "C",
      "question": "Who authored ADR-002 and who approved it?",
      "required_entities": ["Alice Chen", "George Freeney Jr.", "G. Freeney Jr."],
      "required_sources": ["ADR-002"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "ADR-002 was authored by Alice Chen and approved by George Freeney Jr. (listed as G. Freeney Jr. in the document).",
      "citation_format": "[ADR-002]",
      "notes": "Name variant: G. Freeney Jr. = George Freeney Jr."
    },
    {
      "id": "Q015",
      "category": "A",
      "question": "What is the rollback procedure if deployment fails?",
      "required_entities": ["docker-compose down", "restore previous version", "migration rollback"],
      "required_sources": ["SOP-deployment"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "The rollback procedure is: 1) Stop current deployment (docker-compose down), 2) Restore previous version, 3) Run database rollback script, 4) Verify health check.",
      "citation_format": "[SOP-deployment]",
      "notes": "Direct retrieval from SOP"
    },
    {
      "id": "Q016",
      "category": "B",
      "question": "What 2-hop traversal connects MEETING-2026-02-15 to CHG-001?",
      "required_entities": ["MEETING-2026-02-15", "Gateway", "CHG-001"],
      "required_sources": ["MEETING-2026-02-15", "CHG-001"],
      "forbidden_claims": [],
      "expected_certainty": "supported",
      "expected_answer": "MEETING-2026-02-15 references Gateway performance discussed after CHG-001 implementation. The meeting notes that Gateway is stable after CHG-001 connection pool limits.",
      "citation_format": "[MEETING-2026-02-15], [CHG-001]",
      "notes": "Multi-hop connection through Gateway topic"
    },
    {
      "id": "Q017",
      "category": "B",
      "question": "What is the complete chain from Gateway to User Database credential verification?",
      "required_entities": ["Gateway", "Auth Service", "User Database"],
      "required_sources": ["DEPENDENCIES"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "Gateway depends on Auth Service for authentication, and Auth Service depends on User Database for credential verification. If User Database fails, Gateway cannot authenticate users.",
      "citation_format": "[DEPENDENCIES]",
      "notes": "2-hop chain explicitly documented"
    },
    {
      "id": "Q018",
      "category": "C",
      "question": "List all name variants for George Freeney Jr. found in the corpus.",
      "required_entities": ["George Freeney Jr.", "George Freeney", "G. Freeney Jr.", "GFJ"],
      "required_sources": ["USER_PROFILES"],
      "forbidden_claims": [],
      "expected_certainty": "certain",
      "expected_answer": "George Freeney Jr. appears as: George Freeney Jr. (primary), George Freeney (informal), G. Freeney Jr. (formal documents), GFJ (internal shorthand).",
      "citation_format": "[USER_PROFILES]",
      "notes": "Entity resolution test - all variants"
    },
    {
      "id": "Q019",
      "category": "E",
      "question": "What happens if Neo4j is unavailable during a GraphRAG query?",
      "required_entities": ["fallback", "baseline retrieval", "vector-only"],
      "required_sources": [],
      "forbidden_claims": ["graph-derived facts"],
      "expected_certainty": "certain",
      "expected_answer": "If Neo4j is unavailable, the system must fall back to baseline vector-only retrieval. The answer must state that fallback was used and must not claim graph-derived facts.",
      "citation_format": "N/A (failure mode - no source citation required)",
      "notes": "Failure mode - tests graceful degradation",
      "failure_mode": {
        "type": "neo4j_down",
        "expected_behavior": "Fallback to vector retrieval, explicit statement of fallback used, no graph-derived claims"
      }
    },
    {
      "id": "Q020",
      "category": "E",
      "question": "What entities are connected to ADR-002 if the graph is empty?",
      "required_entities": [],
      "required_sources": ["ADR-002"],
      "forbidden_claims": ["any graph-derived relationships"],
      "expected_certainty": "possible",
      "expected_answer": "If the graph is empty, only the document content of ADR-002 itself is available. No graph-derived relationships can be claimed. The answer should state the graph is empty and provide only vector-retrieved information.",
      "citation_format": "[ADR-002] (vector only)",
      "notes": "Failure mode - tests empty graph handling",
      "failure_mode": {
        "type": "graph_empty",
        "expected_behavior": "Graceful degradation, no fabrication, explicit statement of degraded mode"
      }
    }
  ]
}
