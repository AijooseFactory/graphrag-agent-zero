# Architecture Decision Record: ADR-002

## Title: Adopt Neo4j for Entity Relationships

**Status:** Approved  
**Date:** 2026-01-20  
**Author:** Alice Chen  
**Approver:** G. Freeney Jr.

## Context

Agent Zero needs a knowledge graph capability to support multi-hop reasoning across entities (users, documents, incidents, changes, ADRs). Current vector-only retrieval cannot efficiently answer questions that require traversing relationships.

## Decision

We will integrate Neo4j graph database for entity relationship storage:

| Configuration | Value |
|---------------|-------|
| Internal Port | 7687 |
| Protocol | bolt |
| Max Connection Pool | 100 |
| Connection Timeout | 30s |
| Memory Limit | 2GB |

## Consequences

- New dependency on Neo4j (see DEPENDENCIES)
- Requires entity extraction pipeline
- Graceful fallback to vector-only retrieval when Neo4j unavailable

## References
- Incident: INC-002 (Schema migration failure)
- Change: CHG-002 (Idempotent migrations)
